<!DOCTYPE html>
<html ng-app="chatroom" ng-controller="chatCtrl">
<head lang="en">
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

	<title ng-bind="title"></title>
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css"/>
	<!--<link rel="stylesheet" type="text/css" href="vendors/bootstrap.css"/>-->
	<link rel="stylesheet" type="text/css" href="PalChatRoom.css"/>
</head>
<body>
<header class="header container-fluid">
	<div class="row">
		<div class="col-sm-6 col-xs-12 h1">Welcome {{me.name === 'Me' ? '' : ' : ' + me.name}}</div>
		<div class="col-sm-6 col-xs-12 login-input" ng-hide="alreadyLogin">
			<div>
				<label><span>Name</span><input class="form-control" ng-model="inputName" type="text"/></label>
				<label><span>Password</span><input class="form-control" ng-model="inputPass" type="password"/></label>
				<label><button class="btn btn-lg btn-primary btn-block" ng-click="login()">Login</button></label>
			</div>
		</div>
	</div>
</header>

<div class="main container" ng-class="{'move-to-right' : wantDraw === true}">
	<div class="left" x-scroll messages="chats">
		<div class="messages" ng-repeat="chat in chats">
			<p class="name"><span class="date">{{chat.date}}</span><span class="author">{{chat.author}}</span></p>
			<p class="content">{{chat.message}}</p>
		</div>
	</div>
	<div class="right"><p class="user-list" ng-repeat="user in users">{{user.name}}</p></div>
	<div ng-show="alreadyLogin === true" class="bottom">
		<button class="draw-btton btn btn-lg btn-sm btn-block" ng-click="switchBoard()">&gt;&gt;</button>
		<textarea class="input-text form-control" placeholder="press Ctrl + enter send message!" ng-model="inputMessage" ng-keydown="keyDownHandler($event)" ng-keyup="keyUpHandler($event)"></textarea>
		<button class="send-button btn btn-lg btn-primary btn-block" ng-click="send()">Send</button>
	</div>
</div>

<footer class="footer container-fluid">
	<p class="state" ng-bind = "statusMessage"></p>
	<button ng-show="alreadyLogin" class="btn btn-lg btn-default" ng-click="logout()">logout</button>
</footer>

<div ng-show="wantDraw" class="whiteboard" ng-controller="whiteboardCtrl">
	<div class="tool-box">
		<ul class="color-box">
			<li ng-repeat="color in colors" ng-class="color.style" ng-click="setBrushColor(color.name);"></li>
			<li ng-repeat="size in sizes" style="border:none" ng-click="setBrushSize(size);">{{size}}</li>
		</ul>
	</div>
	<canvas x-draw data-brush="brush" width="400px" height="300px" data-pic="pic" class="draw-canvas"></canvas>
</div>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.5/socket.io.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.1/angular.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.1/angular-cookies.min.js"></script>

<!--<script type="text/javascript" src="vendors/jquery.js"></script>-->
<!--<script type="text/javascript" src="vendors/bootstrap.js"></script>-->
<!--<script type="text/javascript" src="vendors/angular.js"></script>-->
<!--<script type="text/javascript" src="vendors/angular-cookies.js"></script>-->
<!--<script type="text/javascript" src="vendors/socket.io.js"></script>-->
<script type="text/javascript" src="PalChatRoom.js"></script>
</body>
</html>
